<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Until You Fly â€” Countdown</title>

    <!-- Bootstrap 5 CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      :root {
        --accent: #6c5ce7;
        --muted: #f1f3f8;
      }
      body {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #0f172a 0%, #071233 60%);
        color: #eef2ff;
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Helvetica Neue", Arial;
        padding: 2rem;
      }

      .card {
        border: none;
        border-radius: 1rem;
        box-shadow: 0 10px 30px rgba(2, 6, 23, 0.6);
        overflow: hidden;
      }

      .hero {
        background: linear-gradient(
          135deg,
          rgba(108, 92, 231, 0.12),
          rgba(0, 0, 0, 0.06)
        );
        padding: 2rem;
      }

      .title {
        font-weight: 700;
        letter-spacing: 0.2px;
      }

      .time-unit {
        background: rgba(255, 255, 255, 0.04);
        border-radius: 0.6rem;
        padding: 0.8rem 1rem;
        min-width: 110px;
        text-align: center;
      }

      .big {
        font-size: 2.25rem;
        font-weight: 700;
        line-height: 1;
      }

      .label {
        font-size: 0.85rem;
        color: #cbd5ff;
        margin-top: 0.35rem;
      }

      .meta {
        color: #b8c1ff;
        font-size: 0.9rem;
      }

      .progress {
        height: 10px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.06);
      }

      .muted-small {
        color: #99a0d6;
        font-size: 0.85rem;
      }
      @media (max-width: 576px) {
        .big {
          font-size: 1.6rem;
        }
        .time-unit {
          min-width: 72px;
          padding: 0.6rem 0.7rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="card w-100" style="max-width: 920px">
      <div class="row g-0">
        <div class="col-md-7 hero">
          <div class="d-flex align-items-start justify-content-between">
            <div>
              <div class="title h3">Until You Fly</div>
              <div class="meta mt-2">
                Counting down to <strong>1 October 2025</strong>
              </div>
            </div>
            <div class="text-end">
              <small class="muted-small">Local time</small>
              <div id="nowClock" class="fw-semibold"></div>
            </div>
          </div>

          <hr style="border-color: rgba(255, 255, 255, 0.06)" />

          <div
            class="d-flex gap-3 flex-wrap justify-content-center justify-content-md-start"
          >
            <div class="time-unit">
              <div id="days" class="big">â€”</div>
              <div class="label">Days</div>
            </div>
            <div class="time-unit">
              <div id="hours" class="big">â€”</div>
              <div class="label">Hours</div>
            </div>
            <div class="time-unit">
              <div id="minutes" class="big">â€”</div>
              <div class="label">Minutes</div>
            </div>
            <div class="time-unit">
              <div id="seconds" class="big">â€”</div>
              <div class="label">Seconds</div>
            </div>
          </div>

          <div class="mt-4">
            <div class="d-flex align-items-center gap-3">
              <div class="flex-grow-1">
                <div class="progress" aria-hidden="true">
                  <div
                    id="progressBar"
                    class="progress-bar"
                    role="progressbar"
                    style="
                      width: 0%;
                      background: linear-gradient(
                        90deg,
                        var(--accent),
                        #00d4ff
                      );
                    "
                  ></div>
                </div>
                <div class="d-flex justify-content-between mt-2">
                  <small class="muted-small">Now</small>
                  <small class="muted-small">1 Oct 2025</small>
                </div>
              </div>

              <div class="text-end">
                <button id="shareBtn" class="btn btn-outline-light btn-sm">
                  Copy link
                </button>
                <div class="muted-small mt-1">or save screenshot</div>
              </div>
            </div>
          </div>
        </div>

        <div
          class="col-md-5 p-4"
          style="
            background: linear-gradient(
              180deg,
              rgba(108, 92, 231, 0.06),
              transparent
            );
          "
        >
          <div class="h5 mb-3">Notes</div>
          <p class="muted-small">
            <i
              >"Counting the days until you fly, Kadek. But every seccond is
              ours"</i
            >
          </p>

          <div class="mt-4">
            <div class="small text-white-50">Status</div>
            <div id="statusText" class="fw-semibold mt-1">Preparingâ€¦</div>
          </div>

          <div class="mt-4">
            <div class="small text-white-50">Timezone</div>
            <div id="tz" class="fw-semibold mt-1"></div>
          </div>

          <div class="mt-4">
            <button id="resetBtn" class="btn btn-light btn-sm">
              Reset to 1 Oct 2025
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      // Target: 1 October 2025 00:00 local time
      let target = new Date(2025, 9, 1, 0, 0, 0); // month index: 0 = Jan, so 9 = Oct

      const daysEl = document.getElementById("days");
      const hoursEl = document.getElementById("hours");
      const minutesEl = document.getElementById("minutes");
      const secondsEl = document.getElementById("seconds");
      const statusText = document.getElementById("statusText");
      const progressBar = document.getElementById("progressBar");
      const nowClock = document.getElementById("nowClock");
      const tzEl = document.getElementById("tz");
      const shareBtn = document.getElementById("shareBtn");
      const resetBtn = document.getElementById("resetBtn");

      // compute progress from now -> target using a 2-week window?
      // Better: progress from now until target relative to a chosen start (now)
      // We'll show percent elapsed from "now at page load" to target (updates as time passes)
      let pageLoadTime = new Date();
      let totalMsInitial = target - pageLoadTime;

      function formatNumber(n) {
        return String(n).padStart(2, "0");
      }

      function updateNowClock() {
        const now = new Date();
        nowClock.textContent = now.toLocaleTimeString();
        tzEl.textContent =
          Intl.DateTimeFormat().resolvedOptions().timeZone || "Local";
      }

      function updateCountdown() {
        const now = new Date();
        const diff = target - now;

        if (diff <= 0) {
          daysEl.textContent = "00";
          hoursEl.textContent = "00";
          minutesEl.textContent = "00";
          secondsEl.textContent = "00";
          statusText.textContent = "Safe travels â€” she's gone. ðŸ’™";
          progressBar.style.width = "100%";
          clearInterval(timer);
          return;
        }

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor(
          (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
        );
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);

        daysEl.textContent = formatNumber(days);
        hoursEl.textContent = formatNumber(hours);
        minutesEl.textContent = formatNumber(minutes);
        secondsEl.textContent = formatNumber(seconds);

        // progress: percent elapsed since page load toward target (so it grows until 100%)
        const elapsed = now - pageLoadTime;
        const percent = Math.min(
          100,
          Math.max(0, (elapsed / totalMsInitial) * 100)
        );
        progressBar.style.width = percent + "%";

        // status
        statusText.textContent = `${days} days ${hours}h ${minutes}m left â€” hold tight.`;

        updateNowClock();
      }

      // initial run
      updateCountdown();
      updateNowClock();
      const timer = setInterval(updateCountdown, 1000);

      // Copy current page URL (or a custom message) to clipboard
      shareBtn.addEventListener("click", async () => {
        const text = `Until You Fly â€” countdown to 1 Oct 2025 00:00\nTime left: ${daysEl.textContent}d ${hoursEl.textContent}h ${minutesEl.textContent}m ${secondsEl.textContent}s`;
        try {
          await navigator.clipboard.writeText(text);
          shareBtn.textContent = "Copied!";
          setTimeout(() => (shareBtn.textContent = "Copy link"), 1500);
        } catch (e) {
          shareBtn.textContent = "Copy failed";
          setTimeout(() => (shareBtn.textContent = "Copy link"), 1500);
        }
      });

      // Reset button simply re-calculates baseline (useful if you leave page open long)
      resetBtn.addEventListener("click", () => {
        pageLoadTime = new Date();
        totalMsInitial = target - pageLoadTime;
        progressBar.style.width = "0%";
        statusText.textContent = "Reset baseline â€” counting from now.";
      });
    </script>
  </body>
</html>
